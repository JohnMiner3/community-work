-- Start with master
USE MASTER
GO

-- Create database with one data file
CREATE DATABASE MultipleFile
ON PRIMARY 
  ( NAME = N'MULTI_PRI_DAT', FILENAME = N'F:\DATA\MULTI.MDF' , SIZE = 32MB, FILEGROWTH = 32MB) 
 LOG ON 
  ( NAME = N'MULTI_ALL_LOG', FILENAME = N'F:\LOG\MULTI.LDF' , SIZE = 32MB, FILEGROWTH = 32MB)
GO

-- Add Secondary file group.
ALTER DATABASE MultipleFile ADD FILEGROUP FG4MULTI6;
GO

-- Add file #1
ALTER DATABASE MultipleFile 
ADD FILE ( NAME = N'MULTI_SEC1', FILENAME = N'F:\DATA\MULTI-M1.NDF' , SIZE = 64MB, FILEGROWTH = 64MB) 
TO FILEGROUP FG4MULTI6;
GO

-- Add file #2
ALTER DATABASE MultipleFile 
ADD FILE ( NAME = N'MULTI_SEC2', FILENAME = N'F:\DATA\MULTI-M2.NDF' , SIZE = 64MB, FILEGROWTH = 64MB) 
TO FILEGROUP FG4MULTI6;
GO

-- Add file #3
ALTER DATABASE MultipleFile 
ADD FILE ( NAME = N'MULTI_SEC3', FILENAME = N'F:\DATA\MULTI-M3.NDF' , SIZE = 64MB, FILEGROWTH = 64MB) 
TO FILEGROUP FG4MULTI6;
GO

-- Add file #4
ALTER DATABASE MultipleFile 
ADD FILE ( NAME = N'MULTI_SEC4', FILENAME = N'F:\DATA\MULTI-M4.NDF' , SIZE = 64MB, FILEGROWTH = 64MB) 
TO FILEGROUP FG4MULTI6;
GO

-- Add file #5
ALTER DATABASE MultipleFile 
ADD FILE ( NAME = N'MULTI_SEC15', FILENAME = N'F:\DATA\MULTI-M5.NDF' , SIZE = 64MB, FILEGROWTH = 64MB) 
TO FILEGROUP FG4MULTI6;
GO

-- Add file #6
ALTER DATABASE MultipleFile 
ADD FILE ( NAME = N'MULTI_SEC6', FILENAME = N'F:\DATA\MULTI-M6.NDF' , SIZE = 64MB, FILEGROWTH = 64MB) 
TO FILEGROUP FG4MULTI6;
GO

-- Set as default
ALTER DATABASE MultipleFile MODIFY FILEGROUP FG4MULTI6 DEFAULT
GO


-- Just one file
USE [MultipleFile]
GO

-- Get time & io
SET STATISTICS IO ON
SET STATISTICS TIME ON

-- Create a table
CREATE TABLE BigRows (c1 INT IDENTITY, c2 CHAR (8000) DEFAULT 'a');
GO

-- Insert 10K rows
INSERT INTO BigRows DEFAULT VALUES;
GO 10000


-- Get time & io
SET STATISTICS IO OFF
SET STATISTICS TIME OFF

-- Drop the database
/*
DROP DATABASE MultipleFile
*/